<html xmlns:th="http://www.thymeleaf.org">
<head>
<link rel="stylesheet" type="text/css" th:href="@{/css/home.css}" />
</head>
<body>
<div id="wrapper">
	<div id="piechart"></div>
	<div id="barchart"></div>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.4/d3.min.js"></script>
<script
  src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script type="text/javascript" th:src="@{/js/d3pie.min.js}"></script>
<script type="text/javascript" th:src="@{/js/d3bar.js}"></script>
<script>
$.getJSON('/api/aggrbyco', function(countries) {
	var pie = new d3pie("piechart", {
		"header": {
			"title": {
				"text": "SSH Brute Force Attempts",
				"fontSize": 24,
				"font": "open sans"
			},
			"subtitle": {
				"text": "Details about who is trying to brute force your machine",
				"color": "#999999",
				"fontSize": 12,
				"font": "open sans"
			},
			"titleSubtitlePadding": 9
		},
		"footer": {
			"color": "#999999",
			"fontSize": 10,
			"font": "open sans",
			"location": "bottom-left"
		},
		"size": {
			"canvasHeight": 700,
			"canvasWidth": 600,			
			"pieOuterRadius": "80%"
		},
		"data": {
			"sortOrder": "value-desc",
			"content": countries
		},
		"labels": {
			"outer": {
				"format": "label-value2",
				"pieDistance": 32
			},
			"inner": {
				"hideWhenLessThanPercentage": 5
			},
			"mainLabel": {
				"fontSize": 11
			},
			"percentage": {
				"color": "#ffffff",
				"decimalPlaces": 1
			},
			"value": {
				"color": "#adadad",
				"fontSize": 11
			},
			"lines": {
				"enabled": true
			},
			"truncation": {
				"enabled": true
			}
		},
		"effects": {
			"pullOutSegmentOnClick": {
				"effect": "linear",
				"speed": 400,
				"size": 8
			}
		},
		"misc": {
			"gradient": {
				"enabled": true,
				"percentage": 100
			}
		}
	});
    
});
</script>

</body>
</html>